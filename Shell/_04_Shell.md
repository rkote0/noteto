# Shell

## 1. shebang 行

本的第一行通常是指定解释器，即这个脚本必须通过什么解释器执行。这一行以`#!`字符开头，这个字符称为 Shebang，所以这一行就叫做 Shebang 行。

```
#!/bin/sh
# 或者
#!/bin/bash

#!与脚本解释器之间有没有空格，都是可以的。
```

如果 Bash 解释器不放在目录`/bin`，脚本就无法执行了。为了保险，可以写成下面这样。

```
#!/usr/bin/env bash
```

## 2. env 命令

```
`env` 命令总是指向 `/usr/bin/env` 文件，或者说，这个二进制文件总是在目录`/usr/bin`
```

`env`命令的参数如下。

- `-i`, `--ignore-environment`：不带环境变量启动。
- `-u`, `--unset=NAME`：从环境变量中删除一个变量。
- `--help`：显示帮助。
- `--version`：输出版本信息。

下面是一个例子，新建一个不带任何环境变量的 Shell。

```
$ env -i /bin/sh
```

## 3. exit 命令

`xit`命令用于终止当前脚本的执行，并向 Shell 返回一个退出值。

```
$ exit
```

上面命令中止当前脚本，将最后一条命令的退出状态，作为整个脚本的退出状态。

`exit`命令后面可以跟参数，该参数就是退出状态。

```
# 退出值为0（成功）
$ exit 0

# 退出值为1（失败）
$ exit 1
```

> 注： 非 0 就可以认定为报错

## 4. source 命令

`source`命令用于执行一个脚本，通常用于重新加载一个配置文件。

```
$ source .bashrc
```

`source`命令最大的特点是在当前 Shell 执行脚本，不像直接执行脚本时，会新建一个子 Shell。所以，`source`命令执行脚本时，不需要`export`变量。

`source`有一个简写形式，可以使用一个点（`.`）来表示。

```
$ . .bashrc
```